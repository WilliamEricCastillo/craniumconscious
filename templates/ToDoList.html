<!DOCTYPE html>
<html lang="eng">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo List</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/footerstyle.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/helpiconstyle.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/footerstyle.css') }}">

    <style>
        @import url("https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;500;700&display=swap");

        * {
            font-family: Arial, sans-serif;
        }
        body {
            background-color: #4686a0;
            background-attachment: fixed, fixed, fixed;
            background-image: url('static/assets/css/images/overlay2.png'),
            url('static/assets/css/images/overlay3.svg'),
            linear-gradient(45deg, #9dc66b 5%, #4fa49a 30%, #4361c2);

            background-position:
                    top left,
                    center center,
                    center center;
            background-size:
                    auto,
                    cover,
                    cover;
        }

        .container {
            max-width: 500px;
            height: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            margin-bottom: 20px;
            color: rgba(255, 255, 255, 0.75);
        }

        form {
            display: flex;
        }

        form input {
            flex: 1;
            padding: 10px;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-right: 10px;

        }

        form button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #4070f4;
            color: #fff;
            border: none;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: background-color 0.2s ease-in-out;
        }

        form button:hover {
            background-color: #0056b3;
        }



        /*actual list below input*/
        #todo-list {
            margin: 0;
            list-style: none;
            padding: 10px 10px 0 0;
            max-height: 475px;
            overflow: auto; /* Add a scrollbar when the content overflows the element */
        }


        /*scrollbar color*/
        #todo-list::-webkit-scrollbar {
            width: 10px;
            background-color: black ;
        }

        #todo-list::-webkit-scrollbar-thumb {
            background-color: white;
        }

        .todoitems {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            margin-bottom: 10px;
            background-color: #eee;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .todoitems span {
            flex: 1;
            margin-right: 10px;
        }

        .todoitems button {
            padding: 5px 10px;
            font-size: 14px;
            background-color: #f44336;
            color: #fff;
            border: none;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: background-color 0.2s ease-in-out;
        }

        .todoitems button:hover {
            background-color: #d32f2f;
        }

        /*Do not edit below, this is navbar css.*/
        .nav-links {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .nav-links a {
            display: inline-block;
            text-decoration: none;
            color: white;
            font-size: 18px;
            font-weight: 500;
            padding: 10px 4px;
            transition: all 0.3s ease;
            margin: 0 8px;
        }

        .nav-links a:hover {
            color: #4070f4;
        }

        nav {
            background-attachment: fixed, fixed, fixed;
            background-image: url('static/assets/css/images/overlay2.png'),
            url('static/assets/css/images/overlay3.svg'),
            linear-gradient(100deg, black 80%, #4362b0 100%);

            background-position:
                    top left,
                    center center,
                    center center;
            background-size:
                    auto,
                    cover,
                    cover;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: auto;
            padding: 5px;
            transition: all 0.4s ease;
            background-color: black;
        }

        nav .nav-content {
            height: 100%;
            max-width: 1200px;
            margin: auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        nav .logo a {
            font-weight: 500;
            font-size: 30px;
            color: #4070f4;
            text-decoration: none;
        }

        .nav-content .nav-links {
            display: flex;
            margin: 0;
            padding: 0;
        }

        .nav-content .nav-links li {
            list-style: none;
            margin: 0 8px;
        }

        .nav-links li a {
            text-decoration: none;
            color: white;
            font-size: 18px;
            font-weight: 500;
            padding: 10px 4px;
            transition: all 0.3s ease;
        }

        .nav-links li a:hover {
            color: #4070f4;
        }

        nav.sticky .nav-links li a {
            color: #fff;
            transition: all 0.4s ease;
        }

        nav.sticky .nav-links li a:hover {
            color: #0E2431;
        }

        h2 {
            font-size: 30px;
            margin-bottom: 6px;
            color: #4070f4;
        }

        #navigation{
            padding-bottom: 8%;
        }


        .nav-links {
            list-style: none;
            margin: 0;
            padding: 0;
        }



        #foot,
        #push {
            height: 50px;
        }

        /* Ensure #push is above #footer */
        #push {
            clear: both;
        }

        /* Fixed footer positioning */
        #footer {
            bottom: 0;
            margin-left: -8px;
            margin-right: -8px;
            width: auto;
        }

        #footer {
            position: fixed;
            background-attachment: fixed, fixed, fixed;
            background-image: url('static/assets/css/images/overlay2.png'),
            url('static/assets/css/images/overlay3.svg'),
            linear-gradient(100deg, black 80%, #4362b0 100%);

        }
    </style>


</head>
<body>
<div id="navigation">
    <nav>
        <div id="nav-block">

            <div class="nav-content">
                <div class="logo">
                    <a>Cranium Conscious</a>
                </div>
                <p class="nav-links">
                    <a href="{{ url_for('home') }}">Home</a>
                    <a href="{{ url_for('gad') }}">GAD7</a>
                    <a href="{{ url_for('phq') }}">PHQ9</a>
                    <a href="{{ url_for('journal') }}">Journal</a>
                    <a href="{{ url_for('todo') }}" id="currentpage">ToDo</a>
                    <a href="{{ url_for('moodtracker') }}">MoodTracker</a>
                    <a href="{{ url_for('mindfulactivities') }}">MindfulActivities</a>
                    <a href="{{ url_for('poetry') }}">Poetry</a>
                    <a href="{{ url_for('quotes') }}">Quotes</a>
                    <a href="{{ url_for('crisis') }}">CrisisSupport</a>
                    <a href="{{ url_for('logout') }}" id="logoutlink">Logout</a>
                </p>
            </div>
        </div>
    </nav>
</div>

<div id="wrapper">
    <div class="container">
        <h1>Todo List</h1>
        <form>
            <label for="todo-input"></label><input type="text" placeholder="Add new todo" id="todo-input">
            <button type="submit" id="add-btn">Add</button>
        </form>
        <ul id="todo-list">
        </ul>
<a class="help-icon">Help?<span class="tooltip">Welcome to your to-do list feature!

This section is designed to help you keep track of your daily tasks and stay organized. Simply write down your tasks for the day, and as you complete them, you can easily delete them from the list.

This feature is especially useful if you have a lot going on and need a quick and easy way to prioritize and manage your tasks. With our to-do list, you can stay on top of everything and ensure that you're always making progress towards your goals.</span></a>


    </div>

    <div id="push"></div>

        <section id="footer">
            <ul class="icons">
                <li><a href="https://twitter.com/Cranium__C" class="icon brands alt fa-twitter"><span class="label">Twitter</span></a></li>
                <li><a href="https://facebook.com/CraniumConscious" class="icon brands alt fa-facebook-f"><span class="label">Facebook</span></a></li>
                <li><a href="https://www.instagram.com/CraniumConscious/" class="icon brands alt fa-instagram"><span class="label">Instagram</span></a></li>
                <li><a href="https://github.com/WilliamEricCastillo/craniumconscious" class="icon brands alt fa-github"><span class="label">GitHub</span></a></li>
                <li><a href="mailto:craniumconscious@gmail.com" class="icon solid alt fa-envelope"><span class="label">Email</span></a></li>				</ul>
            <ul class="copyright">
                <li>&copy; CraniumConscious</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
            </ul>
        </section>
</div>

<script>
    const form = document.querySelector('form');
    const input = document.querySelector('input');
    const ul = document.querySelector('ul');
    const clearBtn = document.querySelector('.clear');
    const itemsLeft = document.querySelector('.items-left');
    const filter = document.querySelector('.filter');

    let todos = [];

    // Load the todos from local storage on page load
    window.addEventListener('load', () => {
        const savedTodos = localStorage.getItem('todos');
        if (savedTodos) {
            todos = JSON.parse(savedTodos);
            updateUI();
        }
    });

    function addTodo (todo) {
        todos.push(todo);

        // Save the updated todos to local storage
        localStorage.setItem('todos', JSON.stringify(todos));

        // update the UI
        updateUI();
    }

    function updateUI () {
        // clear the existing list items
        ul.innerHTML = '';

        // add new items to the list
        todos.forEach((todo, index) => {
            const li = document.createElement('p');
            li.classList.add('todoitems');
            li.innerHTML = `
            <span>${todo}</span>
             <button class="delete" data-index="${index}">Delete</button>
    `;
            ul.appendChild(li);
        });

        // update the items left count
        itemsLeft.textContent = `${todos.length} item(s) left`;
    }

    function deleteTodo (index) {
        todos.splice(index, 1);

        // Save the updated todos to local storage
        localStorage.setItem('todos', JSON.stringify(todos));

        // update the UI
        updateUI();
    }

    form.addEventListener('submit', (e) => {
        e.preventDefault();

        // get the todo text from the input field
        const todo = input.value.trim();

        // add the todo to the list if it is not empty
        if (todo !== '') {
            addTodo(todo);

            // clear the input field
            input.value = '';
        }
    });

    ul.addEventListener('click', (e) => {
        if (e.target.classList.contains('delete')) {
            // get the index of the todo item to be deleted
            const index = e.target.dataset.index;

            // delete the todo item
            deleteTodo(index);
        }
    });

    clearBtn.addEventListener('click', () => {
        // clear the todos array
        todos = [];

        // Save the updated todos to local storage
        localStorage.setItem('todos', JSON.stringify(todos));

        // update the UI
        updateUI();
    });

    filter.addEventListener('change', () => {
        // get the filter value
        const filterValue = filter.value;

        // filter the todos array based on the filter value
        let filteredTodos = [];

        if (filterValue === 'all') {
            filteredTodos = todos;
        } else if (filterValue === 'active') {
            filteredTodos = todos.filter((todo) => !todo.completed);
        } else if (filterValue === 'completed') {
            filteredTodos = todos.filter((todo) => todo.completed);
        }

        // update the UI
        todos = filteredTodos;
        updateUI();
    });

</script>
</body>
</html>
