<!DOCTYPE html>
<html lang="eng">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo List</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/footerstyle.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/helpiconstyle.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/footerstyle.css') }}">

    <style>
        @import url("https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;500;700&display=swap");

        * {
            font-family: Arial, sans-serif;
        }
        body {
            background-color: #4686a0;
            background-attachment: fixed, fixed, fixed;
            background-image: url('static/assets/css/images/overlay2.png'),
            url('static/assets/css/images/overlay3.svg'),
            linear-gradient(45deg, #9dc66b 5%, #4fa49a 30%, #4361c2);

            background-position:
                    top left,
                    center center,
                    center center;
            background-size:
                    auto,
                    cover,
                    cover;
        }

        .container {
            max-width: 500px;
            height: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            margin-bottom: 20px;
            color: rgba(255, 255, 255, 0.75);
        }

        form {
            display: flex;
        }


        /*Do not edit below, this is navbar css.*/
        .nav-links {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .nav-links a {
            display: inline-block;
            text-decoration: none;
            color: white;
            font-size: 18px;
            font-weight: 500;
            padding: 10px 4px;
            transition: all 0.3s ease;
            margin: 0 8px;
        }

        .nav-links a:hover {
            color: #4070f4;
        }

        nav {
            background-attachment: fixed, fixed, fixed;
            background-image: url('static/assets/css/images/overlay2.png'),
            url('static/assets/css/images/overlay3.svg'),
            linear-gradient(100deg, black 80%, #4362b0 100%);

            background-position:
                    top left,
                    center center,
                    center center;
            background-size:
                    auto,
                    cover,
                    cover;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: auto;
            padding: 5px;
            transition: all 0.4s ease;
            background-color: black;
        }

        nav .nav-content {
            height: 100%;
            max-width: 1200px;
            margin: auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        nav .logo a {
            font-weight: 500;
            font-size: 30px;
            color: #4070f4;
            text-decoration: none;
        }

        .nav-content .nav-links {
            display: flex;
            margin: 0;
            padding: 0;
        }

        .nav-content .nav-links li {
            list-style: none;
            margin: 0 8px;
        }

        .nav-links li a {
            text-decoration: none;
            color: white;
            font-size: 18px;
            font-weight: 500;
            padding: 10px 4px;
            transition: all 0.3s ease;
        }

        .nav-links li a:hover {
            color: #4070f4;
        }

        nav.sticky .nav-links li a {
            color: #fff;
            transition: all 0.4s ease;
        }

        nav.sticky .nav-links li a:hover {
            color: #0E2431;
        }

        h2 {
            font-size: 30px;
            margin-bottom: 6px;
            color: #4070f4;
        }

        #navigation{
            padding-bottom: 8%;
        }


        .nav-links {
            list-style: none;
            margin: 0;
            padding: 0;
        }



        #foot,
        #push {
            height: 50px;
        }

        /* Ensure #push is above #footer */
        #push {
            clear: both;
        }

        /* Fixed footer positioning */
        #footer {
            bottom: 0;
            margin-left: -8px;
            margin-right: -8px;
            width: auto;
        }

        #footer {
            position: fixed;
            background-attachment: fixed, fixed, fixed;
            background-image: url('static/assets/css/images/overlay2.png'),
            url('static/assets/css/images/overlay3.svg'),
            linear-gradient(100deg, black 80%, #4362b0 100%);

        }

        .container {
            max-width: 600px;
            margin: auto;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
        }

        form {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .form-group {
            margin-bottom: 10px;
        }

        label {
            font-weight: bold;
        }

        input[type="text"], input[type="datetime-local"] {
            padding: 10px;
            border-radius: 5px;
            border: none;
            background-color: #fff;
            box-shadow: inset 0px 0px 5px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 400px;
        }

        button[type="submit"] {
            background-color: #1e90ff;
            color: #fff;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        button[type="submit"]:hover {
            background-color: #007fff;
        }

        .list-group-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #fff;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.1);
            margin-bottom: 10px;
        }

        .list-group-item .delete-btn {
            color: red;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .list-group-item .delete-btn:hover {
            transform: scale(1.2);
        }

    </style>


</head>
<body>
<div id="navigation">
    <nav>
        <div id="nav-block">

            <div class="nav-content">
                <div class="logo">
                    <a>Cranium Conscious</a>
                </div>
                <p class="nav-links">
                    <a href="{{ url_for('home') }}">Home</a>
                    <a href="{{ url_for('gad') }}">GAD7</a>
                    <a href="{{ url_for('phq') }}">PHQ9</a>
                    <a href="{{ url_for('journal') }}">Journal</a>
                    <a href="{{ url_for('todo') }}" id="currentpage">ToDo</a>
                    <a href="{{ url_for('moodtracker') }}">MoodTracker</a>
                    <a href="{{ url_for('mindfulactivities') }}">MindfulActivities</a>
                    <a href="{{ url_for('poetry') }}">Poetry</a>
                    <a href="{{ url_for('quotes') }}">Quotes</a>
                    <a href="{{ url_for('crisis') }}">CrisisSupport</a>
                    <a href="{{ url_for('logout') }}" id="logoutlink">Logout</a>
                </p>
            </div>
        </div>
    </nav>
</div>

<div id="wrapper">
    <div class="container">
        <h1>To-Do List</h1>
        <form id="todo-form" style="color: white">
            <div class="form-group" style="width: 310px">
                <label for="description">Description</label>
                <input type="text" id="description" class="form-control">
            </div>
            <div class="form-group">
                <label for="datetime">Date and Time</label>
                <input type="datetime-local" id="datetime" class="form-control">
            </div>
            <button type="submit" class="btn btn-primary">Add Task</button>
        </form>
        <ul id="todo-list" class="list-group">
        </ul>
    </div>

</div>

    
    <a class="help-icon">Help?<span class="tooltip">Welcome to your to-do list feature!

This section is designed to help you keep track of your daily tasks and stay organized. Simply write down your tasks for the day, and as you complete them, you can easily delete them from the list.

This feature is especially useful if you have a lot going on and need a quick and easy way to prioritize and manage your tasks. With our to-do list, you can stay on top of everything and ensure that you're always making progress towards your goals.</span></a>


    <div id="push"></div>

        <section id="footer">
            <ul class="icons">
                <li><a href="https://twitter.com/Cranium__C" class="icon brands alt fa-twitter"><span class="label">Twitter</span></a></li>
                <li><a href="https://facebook.com/CraniumConscious" class="icon brands alt fa-facebook-f"><span class="label">Facebook</span></a></li>
                <li><a href="https://www.instagram.com/CraniumConscious/" class="icon brands alt fa-instagram"><span class="label">Instagram</span></a></li>
                <li><a href="https://github.com/WilliamEricCastillo/craniumconscious" class="icon brands alt fa-github"><span class="label">GitHub</span></a></li>
                <li><a href="mailto:craniumconscious@gmail.com" class="icon solid alt fa-envelope"><span class="label">Email</span></a></li>				</ul>
            <ul class="copyright">
                <li>&copy; CraniumConscious</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
            </ul>
        </section>

<script>
    const form = document.getElementById('todo-form');
    const descriptionInput = document.getElementById('description');
    const datetimeInput = document.getElementById('datetime');
    const todoList = document.getElementById('todo-list');

    let todos = [];

    function addTodo() {
        const description = descriptionInput.value;
        const datetime = datetimeInput.value;

        if (description === '' || datetime === '') {
            alert('Please enter a description and a date and time');
            return;
        }

        const todo = { description, datetime };
        todos.push(todo);

        renderTodos();
        descriptionInput.value = '';
        datetimeInput.value = '';

        // Store the updated todos array in local storage
        localStorage.setItem('todos', JSON.stringify(todos));
    }

    function renderTodos() {
        todoList.innerHTML = '';

        todos.forEach((todo, index) => {
            const li = document.createElement('li');
            li.className = 'list-group-item';
            li.innerHTML = `
      <div>${todo.description}</div>
      <div>${new Date(todo.datetime).toLocaleString()}</div>
      <div class="delete-btn" data-index="${index}">X</div>
    `;
            todoList.appendChild(li);
        });
    }

    function deleteTodo(index) {
        todos.splice(index, 1);
        renderTodos();

        // Update the todos array in local storage
        localStorage.setItem('todos', JSON.stringify(todos));
    }

    form.addEventListener('submit', (event) => {
        event.preventDefault();
        addTodo();
    });

    todoList.addEventListener('click', (event) => {
        const target = event.target;

        if (target.classList.contains('delete-btn')) {
            const index = target.getAttribute('data-index');
            deleteTodo(index);
        }
    });

    // Load the todos array from local storage when the page is loaded
    document.addEventListener('DOMContentLoaded', () => {
        const storedTodos = localStorage.getItem('todos');

        if (storedTodos) {
            todos = JSON.parse(storedTodos);
            renderTodos();
        }
    });

    </script>
</body>
</html>
